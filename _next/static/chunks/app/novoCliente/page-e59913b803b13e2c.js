(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[515],{976:(e,t,l)=>{"use strict";l.d(t,{Ay:()=>i,CE:()=>n});var s=l(1990);let r={nome:"",cpf:"",telefone:"",email:""},a=(0,s.Z0)({name:"cliente",initialState:r,reducers:{setDadosPF:(e,t)=>{e.nome=t.payload.nome,e.cpf=t.payload.cpf,e.telefone=t.payload.telefone,e.email=t.payload.email},limparCliente:()=>r}}),{setDadosPF:n,limparCliente:o}=a.actions,i=a.reducer},4615:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});var s=l(5155),r=l(5695);function a(){let e=(0,r.useRouter)();return(0,s.jsx)("header",{className:"bg-primary shadow-lg border-b-4 border-yellow",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-3",children:(0,s.jsx)("div",{className:"flex items-center justify-center cursor-pointer",onClick:()=>{e.push("/")},children:(0,s.jsx)("h1",{className:"text-xl font-bold text-white",children:"Alcides e Mosinho"})})})})}},5087:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});var s=l(5155);function r(){return(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,s.jsx)("div",{className:"w-20 h-20 rounded-full animate-spin",style:{boxSizing:"border-box",border:"10px solid rgba(236, 196, 64, 0.2)",borderTopColor:"#ECC440"}})})}},5913:(e,t,l)=>{Promise.resolve().then(l.bind(l,7484))},6821:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});var s=l(5155);function r(){return(0,s.jsx)("footer",{className:"bg-primary border-t-4 border-yellow mt-auto",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,s.jsx)("div",{className:"text-center",children:(0,s.jsxs)("p",{className:"text-lightGray text-sm",children:["\xa9 ",new Date().getFullYear()," Alcides e Mosinho. Todos os direitos reservados."]})})})})}},7092:(e,t,l)=>{"use strict";function s(e){let t=e.replace(/\D/g,"");return t.length<=11?t.replace(/^(\d{3})(\d)/,"$1.$2").replace(/^(\d{3})\.(\d{3})(\d)/,"$1.$2.$3").replace(/\.(\d{3})(\d)/,".$1-$2").slice(0,14):t.replace(/^(\d{2})(\d)/,"$1.$2").replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3").replace(/\.(\d{3})(\d)/,".$1/$2").replace(/(\d{4})(\d)/,"$1-$2").slice(0,18)}function r(e){let t,l=e.replace(/\D/g,"");if(11!==l.length||/^(\d)\1{10}$/.test(l))return!1;let s=0;for(let e=1;e<=9;e++)s+=parseInt(l.substring(e-1,e))*(11-e);if((10==(t=10*s%11)||11===t)&&(t=0),t!==parseInt(l.substring(9,10)))return!1;s=0;for(let e=1;e<=10;e++)s+=parseInt(l.substring(e-1,e))*(12-e);return(10==(t=10*s%11)||11===t)&&(t=0),t===parseInt(l.substring(10,11))}l.d(t,{b:()=>r,u:()=>s})},7484:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>m});var s=l(5155),r=l(2115),a=l(4123),n=l(5695),o=l(4615),i=l(6821),d=l(7092),c=l(4540),x=l(976),u=l(5087);function m(){let e=(0,n.useRouter)(),t=(0,c.wA)(),[l,m]=(0,r.useState)(1),[g,p]=(0,r.useState)(""),[h,b]=(0,r.useState)(""),[f,j]=(0,r.useState)(""),[y,v]=(0,r.useState)(""),[N,w]=(0,r.useState)(""),[C,A]=(0,r.useState)([]),[D,F]=(0,r.useState)([]),[S,k]=(0,r.useState)([]),[P,E]=(0,r.useState)(null),[$,B]=(0,r.useState)(""),[I,R]=(0,r.useState)(""),[T,_]=(0,r.useState)(!1),[q,z]=(0,r.useState)(!1),[L,O]=(0,r.useState)(!1),[M,G]=(0,r.useState)(!1),[U,V]=(0,r.useState)(!1),[W,H]=(0,r.useState)(!1),[J,Y]=(0,r.useState)(null),Z=e=>{let t=e.target.value;j(t.replace(/\D/g,"")),b((0,d.u)(t))},K=()=>(0,d.b)(f),Q=()=>/\S+@\S+\.\S+/.test(N),X=async e=>{try{let t,l=await a.PDFDocument.create(),s=await e.arrayBuffer();if("image/jpeg"===e.type||"image/jpg"===e.type)t=await l.embedJpg(s);else{if("image/png"!==e.type)return null;t=await l.embedPng(s)}l.addPage([t.width,t.height]).drawImage(t,{x:0,y:0,width:t.width,height:t.height});let r=await l.save(),n=new Blob([r],{type:"application/pdf"});return new File([n],e.name.replace(/\.[^.]+$/,".pdf"),{type:"application/pdf"})}catch(e){return console.error("Erro ao converter imagem em PDF:",e),null}},ee=async(e,t,l)=>{if(!e.target.files)return;let s=Array.from(e.target.files),r=[],a=!1;for(let e of s){let t=e.type;if(t.startsWith("image/")){let t=await X(e);t&&r.push({file:t,nomeAtribuido:t.name})}else"application/pdf"===t?r.push({file:e,nomeAtribuido:e.name}):a=!0}let n=s[s.length-1],o=(null==n?void 0:n.type)||"";o.startsWith("image/")||"application/pdf"===o?V(!1):a&&V(!0),t(e=>[...e,...r])},et=(e,t)=>{t(t=>t.filter((t,l)=>l!==e))},el=(e,t,l)=>{E(e),B(t),R(l)},es=()=>{null!==P&&I&&(("identidade"===I?A:"residencia"===I?F:k)(e=>{let t=[...e];return t[P].nomeAtribuido=$,t}),E(null),B(""),R(""))},er=(e,t,l,r)=>(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-center text-[#CA9D14]",children:e}),U&&(0,s.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:[(0,s.jsx)("strong",{className:"font-bold",children:"Aten\xe7\xe3o! "}),(0,s.jsx)("span",{className:"block sm:inline",children:"S\xf3 \xe9 permitido enviar imagens ou arquivos PDF."}),(0,s.jsx)("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3 cursor-pointer",onClick:()=>V(!1),children:(0,s.jsxs)("svg",{className:"fill-current h-6 w-6 text-red-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:[(0,s.jsx)("title",{children:"Fechar"}),(0,s.jsx)("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})]})})]}),(0,s.jsx)("input",{type:"file",accept:"application/pdf,image/*",multiple:!0,onChange:e=>ee(e,l,r),className:"w-full px-4 py-3 rounded-lg bg-gray-100 text-gray-800 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#ECC440] transition-all"}),t.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-bold mb-2",children:"Documentos adicionados:"}),t.map((e,t)=>(0,s.jsx)("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded mb-2",children:P===t&&I===r?(0,s.jsxs)("div",{className:"flex-1 flex gap-2",children:[(0,s.jsx)("input",{type:"text",value:$,onChange:e=>B(e.target.value),className:"flex-1 px-2 py-1 border rounded"}),(0,s.jsx)("button",{onClick:es,className:"px-3 py-1 bg-green-500 text-white rounded text-sm",children:"Salvar"}),(0,s.jsx)("button",{onClick:()=>{E(null),R("")},className:"px-3 py-1 bg-gray-500 text-white rounded text-sm",children:"Cancelar"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"flex-1",children:e.nomeAtribuido}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>el(t,e.nomeAtribuido,r),className:"text-blue-600 hover:text-blue-800",children:"✎"}),(0,s.jsx)("a",{href:URL.createObjectURL(e.file),download:e.nomeAtribuido,className:"text-green-600 hover:text-green-800",children:"⬇️"}),(0,s.jsx)("button",{onClick:()=>et(t,l),className:"text-red-600 hover:text-red-800",children:"\uD83D\uDDD1️"})]})]})},t))]})]}),ea=async()=>{let e=new FormData;e.append("owner",g),[...C,...D,...S].forEach(t=>{e.append("file",t.file,t.nomeAtribuido)}),H(!0),Y(null),setTimeout(()=>{t((0,x.CE)({nome:g,cpf:f,telefone:y,email:N})),m(5),H(!1)},3e3);try{await fetch("".concat("https://api-mosinho-doc-portal.onrender.com","/upload"),{method:"POST",body:e})}catch(e){console.log("error",e)}};return(0,s.jsxs)("div",{className:"min-h-screen flex flex-col bg-[#1A243F]",children:[W&&(0,s.jsx)(u.A,{}),(0,s.jsx)(o.A,{}),(0,s.jsx)("main",{className:"flex-1 px-4 py-8 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"bg-white text-[#1A243F] rounded-2xl shadow-lg p-10 max-w-xl w-full relative border-l-8 border-[#ECC440]",children:[1===l&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-center mb-6",children:"Dados Pessoais"}),(0,s.jsx)("p",{className:"text-center text-[#CA9D14] mb-8",children:"Informe seus dados para prosseguir"}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"nome",className:"block text-sm font-bold uppercase text-[#CA9D14] mb-2",children:"Nome Completo"}),(0,s.jsx)("input",{type:"text",id:"nome",placeholder:"Digite seu nome completo",value:g,onChange:e=>{p(e.target.value),e.target.value.trim().split(" ").length>=2&&_(!0)},onBlur:()=>_(!0),className:"w-full px-4 py-3 rounded-lg bg-gray-100 text-gray-800 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#ECC440] transition-all"}),T&&g.trim().split(" ").length<2&&(0,s.jsx)("p",{className:"text-red-600 text-sm mt-1",children:"Digite seu nome completo"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"cpf",className:"block text-sm font-bold uppercase text-[#CA9D14] mb-2",children:"CPF"}),(0,s.jsx)("input",{type:"text",id:"cpf",placeholder:"Digite o CPF",value:h,onChange:e=>{Z(e),(0,d.b)(e.target.value.replace(/\D/g,""))&&z(!0)},onBlur:()=>z(!0),maxLength:14,className:"w-full px-4 py-3 rounded-lg bg-gray-100 text-gray-800 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#ECC440] transition-all"}),q&&!K()&&(0,s.jsx)("p",{className:"text-red-600 text-sm mt-1",children:"CPF inv\xe1lido"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"telefone",className:"block text-sm font-bold uppercase text-[#CA9D14] mb-2",children:"Telefone"}),(0,s.jsx)("input",{type:"tel",id:"telefone",placeholder:"Digite o telefone",value:y,onChange:e=>{v(e.target.value),e.target.value.replace(/\D/g,"").length>=10&&O(!0)},onBlur:()=>O(!0),className:"w-full px-4 py-3 rounded-lg bg-gray-100 text-gray-800 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#ECC440] transition-all"}),L&&!(y.replace(/\D/g,"").length>=10)&&(0,s.jsx)("p",{className:"text-red-600 text-sm mt-1",children:"Telefone inv\xe1lido"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-bold uppercase text-[#CA9D14] mb-2",children:"E-mail"}),(0,s.jsx)("input",{type:"email",id:"email",placeholder:"Digite o e-mail",value:N,onChange:e=>{w(e.target.value),/\S+@\S+\.\S+/.test(e.target.value)&&G(!0)},onBlur:()=>G(!0),className:"w-full px-4 py-3 rounded-lg bg-gray-100 text-gray-800 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#ECC440] transition-all"}),M&&!Q()&&(0,s.jsx)("p",{className:"text-red-600 text-sm mt-1",children:"E-mail inv\xe1lido"})]})]}),(0,s.jsx)("div",{className:"flex justify-center mt-6",children:(0,s.jsx)("button",{onClick:()=>m(2),disabled:!(T&&g.trim().split(" ").length>=2&&q&&K()&&L&&y.replace(/\D/g,"").length>=10&&M&&Q()),className:"w-1/2 font-bold py-3 px-6 rounded-lg transition-all ".concat(T&&g.trim().split(" ").length>=2&&q&&K()&&L&&y.replace(/\D/g,"").length>=10&&M&&Q()?"bg-yellow text-[#1A243F] hover:bg-[#D4B91A]":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:"Pr\xf3ximo"})})]}),2===l&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-center mb-6",children:"Documentos de Identidade"}),(0,s.jsx)("p",{className:"text-center text-[#CA9D14] mb-8",children:"Envie seus documentos de identidade"}),er("RG, CNH ou Passaporte",C,A,"identidade"),(0,s.jsxs)("div",{className:"flex gap-2 mt-6",children:[(0,s.jsx)("button",{onClick:()=>m(1),className:"w-1/2 bg-gray-200 text-[#1A243F] font-bold py-3 px-6 rounded-lg hover:bg-gray-300 transition-all",children:"Anterior"}),(0,s.jsx)("button",{onClick:()=>m(3),disabled:0===C.length,className:"w-1/2 font-bold py-3 px-6 rounded-lg transition-all ".concat(0===C.length?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-yellow text-[#1A243F] hover:bg-[#D4B91A]"),children:"Pr\xf3ximo"})]})]}),3===l&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-center mb-6",children:"Comprovante de Resid\xeancia"}),(0,s.jsx)("p",{className:"text-center text-[#CA9D14] mb-8",children:"Envie seu comprovante de resid\xeancia"}),er("Conta de luz, \xe1gua, telefone ou extrato banc\xe1rio",D,F,"residencia"),(0,s.jsxs)("div",{className:"flex gap-2 mt-6",children:[(0,s.jsx)("button",{onClick:()=>m(2),className:"w-1/2 bg-gray-200 text-[#1A243F] font-bold py-3 px-6 rounded-lg hover:bg-gray-300 transition-all",children:"Anterior"}),(0,s.jsx)("button",{onClick:()=>m(4),disabled:0===D.length,className:"w-1/2 font-bold py-3 px-6 rounded-lg transition-all ".concat(0===D.length?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-yellow text-[#1A243F] hover:bg-[#D4B91A]"),children:"Pr\xf3ximo"})]})]}),4===l&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-center mb-6",children:"Procura\xe7\xe3o"}),(0,s.jsx)("p",{className:"text-center text-[#CA9D14] mb-8",children:"Envie sua procura\xe7\xe3o (opcional)"}),er("Procura\xe7\xe3o p\xfablica ou particular",S,k,"procuracao"),(0,s.jsxs)("div",{className:"flex gap-2 mt-6",children:[(0,s.jsx)("button",{onClick:()=>m(3),className:"w-1/2 bg-gray-200 text-[#1A243F] font-bold py-3 px-6 rounded-lg hover:bg-gray-300 transition-all",children:"Anterior"}),(0,s.jsx)("button",{onClick:ea,className:"w-1/2 bg-yellow text-[#1A243F] font-bold py-3 px-6 rounded-lg hover:bg-[#D4B91A] transition-all",children:"Finalizar"})]})]}),5===l&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-center mb-6",children:"Obrigado!"}),(0,s.jsx)("p",{className:"text-center text-[#CA9D14] mb-8",children:"Seus dados foram registrados com sucesso."}),(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[(0,s.jsx)("h4",{className:"font-bold mb-2",children:"Resumo dos dados:"}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Nome:"})," ",g]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"CPF:"})," ",h]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Telefone:"})," ",y]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Email:"})," ",N]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Documentos de Identidade:"})," ",C.length," arquivo(s)"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Documentos de Resid\xeancia:"})," ",D.length," arquivo(s)"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Procura\xe7\xf5es:"})," ",S.length," arquivo(s)"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Total de documentos:"})," ",C.length+D.length+S.length," arquivo(s)"]})]}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("button",{onClick:()=>e.push("/"),className:"w-1/2 bg-yellow text-[#1A243F] font-bold py-3 px-6 rounded-lg hover:bg-[#D4B91A] transition-all",children:"Voltar ao In\xedcio"})})]}),6===l&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-center mb-6 text-red-600",children:"Servi\xe7o indispon\xedvel"}),(0,s.jsx)("p",{className:"text-center text-[#CA9D14] mb-8",children:"Contate o escrit\xf3rio informando o erro abaixo."}),J&&(0,s.jsx)("p",{className:"text-center text-red-600 mb-8",children:J}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("button",{onClick:()=>e.push("/"),className:"w-1/2 bg-yellow text-[#1A243F] font-bold py-3 px-6 rounded-lg hover:bg-[#D4B91A] transition-all",children:"Voltar ao In\xedcio"})})]}),l>=1&&l<=4&&(0,s.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[(0,s.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mb-2",children:[(0,s.jsx)("span",{children:"Progresso"}),(0,s.jsxs)("span",{children:[l,"/4"]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,s.jsx)("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(l/4*100,"%")}})})]})]})}),(0,s.jsx)(i.A,{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[635,281,441,684,358],()=>t(5913)),_N_E=e.O()}]);